<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Unit Manipulation · FlexUnits.jl</title><meta name="title" content="Unit Manipulation · FlexUnits.jl"/><meta property="og:title" content="Unit Manipulation · FlexUnits.jl"/><meta property="twitter:title" content="Unit Manipulation · FlexUnits.jl"/><meta name="description" content="Documentation for FlexUnits.jl."/><meta property="og:description" content="Documentation for FlexUnits.jl."/><meta property="twitter:description" content="Documentation for FlexUnits.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">FlexUnits.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li class="is-active"><a class="tocitem" href>Unit Manipulation</a><ul class="internal"><li><a class="tocitem" href="#Retrieving-units-from-a-registry"><span>Retrieving units from a registry</span></a></li><li><a class="tocitem" href="#Converting-units"><span>Converting units</span></a></li><li><a class="tocitem" href="#Extracting-units-and-values-from-quantities"><span>Extracting units and values from quantities</span></a></li></ul></li><li><a class="tocitem" href="../linearalgebra/">Linear Algebra</a></li><li><a class="tocitem" href="../examples/">Advanced Examples</a></li><li><a class="tocitem" href="../types/">Types</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Unit Manipulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Unit Manipulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Deduction42/FlexUnits.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Deduction42/FlexUnits.jl/blob/main/docs/src/manipulation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Unit-Manipulation-and-Conversion"><a class="docs-heading-anchor" href="#Unit-Manipulation-and-Conversion">Unit Manipulation and Conversion</a><a id="Unit-Manipulation-and-Conversion-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Manipulation-and-Conversion" title="Permalink"></a></h1><h2 id="Retrieving-units-from-a-registry"><a class="docs-heading-anchor" href="#Retrieving-units-from-a-registry">Retrieving units from a registry</a><a id="Retrieving-units-from-a-registry-1"></a><a class="docs-heading-anchor-permalink" href="#Retrieving-units-from-a-registry" title="Permalink"></a></h2><p>Unit registries are modules that export parsing functions and string macros. FlexUnits contains a default unit registry module named <code>UnitRegistry</code> that contains scalar/affine units. To use string macros, simply call the string macros and parsing functions from the registry.</p><pre><code class="language-julia hljs">using FlexUnits
distance1 = 1*UnitRegistry.u&quot;km&quot;
distance2 = 1*UnitRegistry.uparse(&quot;m&quot;)
distance3 = 1*UnitRegistry.qparse(&quot;5 cm&quot;)

julia&gt; distance1 + distance2 + distance3
1001.05 m</code></pre><p>You can export these functions and macros directly from the module (this is not done by default so that users can use their own custom modules if they like).</p><pre><code class="language-julia hljs">using FlexUnits, .UnitRegistry
distance1 = 1*u&quot;km&quot;
distance2 = 1*uparse(&quot;m&quot;)
distance3 = 1*qparse(&quot;5 cm&quot;)

julia&gt; distance1 + distance2 + distance3
1001.05 m</code></pre><h3 id="String-macro-and-parsing-behaviour"><a class="docs-heading-anchor" href="#String-macro-and-parsing-behaviour">String macro and parsing behaviour</a><a id="String-macro-and-parsing-behaviour-1"></a><a class="docs-heading-anchor-permalink" href="#String-macro-and-parsing-behaviour" title="Permalink"></a></h3><p>There are two types of string macros:</p><ol><li>One that produces staticly-typed units <code>@u_str</code> such as <code>1u&quot;m/s&quot;</code></li><li>One that produces dynamic units <code>@ud_str</code> such as <code>1ud&quot;m/s&quot;</code></li></ol><p>Most of the time users will want to use the static unit macro inside code, because the Julia compiler can reason about the units with constants, resulting in better runtime because unit checking is all done at compile-time. One can check the types produced by these macros.</p><pre><code class="language-julia hljs">julia&gt; typeof(1u&quot;m/s&quot;)
Quantity{Float64, StaticDims{m/s}}

julia&gt; typeof(1ud&quot;m/s&quot;)
Quantity{Float64, Dimensions{FixRat32}}</code></pre><p>There are also two types of parsing functions:</p><ol><li>One that parses units <code>uparse</code> such as <code>uparse(&quot;N&quot;)</code></li><li>One that parses quantities <code>qparse</code> such as <code>qparse(&quot;5 lbf&quot;)</code></li></ol><p>Parsing functions always produce dynamic units, as they are primarily used to parse free text as units (such as csv spreadsheets); in such cases, producing dynamic units resolves type-stability issues from not knowing the units beforehand. </p><p>It should also be notced that using string macros and parsing functions will cause units to be displayed exactly how they will be parsed (use <code>quantity</code> to prevent eagerly converting to dimensional units).</p><pre><code class="language-julia hljs">julia&gt; quantity(5, u&quot;J/(K*mol)&quot;)
5 J/(K*mol)

julia&gt; quantity(5, u&quot;J/(mol K)&quot;)
5 J/(mol K)

julia&gt; quantity(5, u&quot;J*(mol K)^(-1)&quot;)
5 J*(mol K)^(-1)</code></pre><p>Dimensional units, however, are displayed in a standard format because their symbols are well-defined.</p><pre><code class="language-julia hljs">julia&gt; 5u&quot;J/(K*mol)&quot;
5.0 (m² kg)/(s² K mol)

julia&gt; 5*u&quot;J*(mol K)^(-1)&quot;
5.0 (m² kg)/(s² K mol)</code></pre><h3 id="Registering-units"><a class="docs-heading-anchor" href="#Registering-units">Registering units</a><a id="Registering-units-1"></a><a class="docs-heading-anchor-permalink" href="#Registering-units" title="Permalink"></a></h3><p>You can register units to a registry using other units or quantities using the <code>register_unit</code> function:</p><pre><code class="nohighlight hljs">julia&gt; register_unit(&quot;bbl&quot; =&gt; 0.158987*u&quot;m^3&quot;)</code></pre><p>However, because macros only look up units at compile time, <em>changing</em> these values won&#39;t update macro outputs in functions that have already been compiled. Becuase of this, we use the <code>PermanentDict</code> object to produce errors when overwriting units with different values. You can re-register units with the same values (so that you can re-run scripts) but overwriting them as different values is not allowed.</p><pre><code class="nohighlight hljs">julia&gt; register_unit(&quot;bbl&quot; =&gt; 0.158987*u&quot;m^3&quot;)
FlexUnits.RegistryTools.PermanentDict{Symbol, AffineUnits{Dimensions{FixedRational{Int32, 25200}}}} with 150 entries:

julia&gt; register_unit(&quot;bbl&quot; =&gt; 22.5*u&quot;m^3&quot;)
ERROR: PermanentDictError: Key bbl already exists. Cannot assign a different value.</code></pre><h2 id="Converting-units"><a class="docs-heading-anchor" href="#Converting-units">Converting units</a><a id="Converting-units-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-units" title="Permalink"></a></h2><p>FlexUnits mimics Unitful where possible, so the <code>uconvert</code> function is used to convert quantities to desired units. However, internally, most math is done using dimensional quantities (i.e. SI units) so that no internal conversion factors are neccessary. Because dimensional quantities are higher-performacne, the <code>dconvert</code> function is also used, mainly to verify the dimensions of the input units and remove any scaling/offsets before calculation.</p><h3 id="Use-uconvert-for-displaying-results"><a class="docs-heading-anchor" href="#Use-uconvert-for-displaying-results">Use <code>uconvert</code> for displaying results</a><a id="Use-uconvert-for-displaying-results-1"></a><a class="docs-heading-anchor-permalink" href="#Use-uconvert-for-displaying-results" title="Permalink"></a></h3><p>The function <code>uconvert</code> is most often used for converting results of a calculation (usually SI) to the desired units.</p><article><details class="docstring" open="true"><summary id="FlexUnits.uconvert-Tuple{AbstractUnitLike, QuantUnion}"><a class="docstring-binding" href="#FlexUnits.uconvert-Tuple{AbstractUnitLike, QuantUnion}"><code>FlexUnits.uconvert</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">uconvert(u::AbstractUnitLike, q::QuantUnion)</code></pre><p>Converts quantity <code>q</code> to the equivalent quantity having units <code>u</code></p><pre><code class="language-julia hljs">julia&gt; uconvert(u&quot;K&quot;, 25u&quot;°C&quot;)
298.15 K</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deduction42/FlexUnits.jl/blob/c5283131a20f083f6ba2767ce8a346b5487bbeea/src/conversions.jl#L29-L38">source</a></section></details></article><p>Note that using <code>uconvert</code> between two unit object will produce a unit conversion formula that can be called directly. Additionally, pipe operator <code>|&gt;</code> can also be used as a shorthand for <code>uconvert</code></p><article><details class="docstring" open="true"><summary id="FlexUnits.uconvert-Tuple{AbstractUnitLike, AbstractUnitLike}"><a class="docstring-binding" href="#FlexUnits.uconvert-Tuple{AbstractUnitLike, AbstractUnitLike}"><code>FlexUnits.uconvert</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">uconvert(u_target::AbstractUnitLike, u_current::AbstractUnitLike)</code></pre><p>Produces a conversion rule to convert <code>u_current</code> to <code>u_target</code>. This result is a callable object that can be applied directly to numeric objects.</p><pre><code class="language-julia hljs">julia&gt; uconvert(u&quot;K&quot;, u&quot;°C&quot;)
AffineTransform{Float64}(1.0, 273.15)

julia&gt; uconvert(u&quot;K&quot;, u&quot;°C&quot;)(0)
273.15</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deduction42/FlexUnits.jl/blob/c5283131a20f083f6ba2767ce8a346b5487bbeea/src/conversions.jl#L5-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:|&gt;-Tuple{AbstractUnitLike, Union{AbstractUnitLike, QuantUnion}}"><a class="docstring-binding" href="#Base.:|&gt;-Tuple{AbstractUnitLike, Union{AbstractUnitLike, QuantUnion}}"><code>Base.:|&gt;</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">|&gt;(x, f)</code></pre><p>Infix operator which applies function <code>f</code> to the argument <code>x</code>. This allows <code>f(g(x))</code> to be written <code>x |&gt; g |&gt; f</code>. When used with anonymous functions, parentheses are typically required around the definition to get the intended chain.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; 4 |&gt; inv
0.25

julia&gt; [2, 3, 5] |&gt; sum |&gt; inv
0.1

julia&gt; [0 1; 2 3] .|&gt; (x -&gt; x^2) |&gt; sum
14</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/5fe89b8ddc166260bfcd4a195b305aff0ccad686/base/operators.jl#L952-L971">source</a></section></details></article><h3 id="Use-dconvert-before-performance-sensitive-code"><a class="docs-heading-anchor" href="#Use-dconvert-before-performance-sensitive-code">Use <code>dconvert</code> before performance-sensitive code</a><a id="Use-dconvert-before-performance-sensitive-code-1"></a><a class="docs-heading-anchor-permalink" href="#Use-dconvert-before-performance-sensitive-code" title="Permalink"></a></h3><p>The funciton <code>dconvert</code> converts a quantity to the <em>dimensions</em> of the desired unit. This is a convenience function since string macros produce units, not dimensions. This may produce unintuitive results if you forget this behaviour, for example,</p><pre><code class="language-julia hljs">julia&gt; dconvert(u&quot;km/hr&quot;, 25u&quot;km/hr&quot;)
6.944444444444445 m/s</code></pre><p>This is useful for validating input unit dimensions and converting to a high-performance object all in one step before performing performance-sensitive code. In such cases, make sure you use the static version (i.e. use <code>5u&quot;m/s&quot;</code> not <code>5ud&quot;m/s&quot;</code>).</p><article><details class="docstring" open="true"><summary id="FlexUnits.dconvert-Tuple{AbstractUnitLike, QuantUnion}"><a class="docstring-binding" href="#FlexUnits.dconvert-Tuple{AbstractUnitLike, QuantUnion}"><code>FlexUnits.dconvert</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">dconvert(u::AbstractUnitLike, q::QuantUnion)</code></pre><p>Converts quantity <code>q</code> to the equivalent dimensional quantity having the same dimensions as <code>u</code></p><pre><code class="language-julia hljs">julia&gt; dconvert(u&quot;km/hr&quot;, 25u&quot;km/hr&quot;)
6.944444444444445 m/s</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deduction42/FlexUnits.jl/blob/c5283131a20f083f6ba2767ce8a346b5487bbeea/src/conversions.jl#L46-L54">source</a></section></details></article><h2 id="Extracting-units-and-values-from-quantities"><a class="docs-heading-anchor" href="#Extracting-units-and-values-from-quantities">Extracting units and values from quantities</a><a id="Extracting-units-and-values-from-quantities-1"></a><a class="docs-heading-anchor-permalink" href="#Extracting-units-and-values-from-quantities" title="Permalink"></a></h2><p>The following functions can be used to extract/inspect different attributes of a quantity</p><ul><li><code>ustrip(q::Quantity)</code> extracts the raw numerical value from a quantity</li><li><code>ustrip(u::AbstractUnitLike, q::Quantity)</code> returns the value of a quantity in the desired units</li><li><code>dstrip(q::Quantity)</code> converts a quantitty to dimensional units and returns the numerical value</li><li><code>unit(q::Quantity)</code> extracts the unit from a quantity (<code>Quantity{Float64, &lt;:AbstractDimLike}</code> will return a dimension)</li><li><code>dimension(q::Quantity)</code> will return the dimensions of a quantity (if dimensions are static, it returns the static value)</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../performance/">« Performance</a><a class="docs-footer-nextpage" href="../linearalgebra/">Linear Algebra »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 18 February 2026 02:18">Wednesday 18 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
